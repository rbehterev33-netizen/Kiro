# üè¢ SmartOffice ‚Äî –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ñ–∏—Å–æ–º

> –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º, –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∞–∫—Ç–∏–≤–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏

[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16+-blue.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**SmartOffice** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- üë• –ü–µ—Ä—Å–æ–Ω–∞–ª–æ–º –∏ –∫–∞–¥—Ä–æ–≤—ã–º —É—á—ë—Ç–æ–º (HRM)
- üìä –ü—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏
- üíº –°–∫–ª–∞–¥—Å–∫–∏–º —É—á—ë—Ç–æ–º –∏ –∞–∫—Ç–∏–≤–∞–º–∏
- üí∞ –ó–∞—Ä–ø–ª–∞—Ç–æ–π –∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏
- üìà KPI –∏ –æ—Ü–µ–Ω–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- üéì –û–±—É—á–µ–Ω–∏–µ–º –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

## üéØ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

- **HR-–æ—Ç–¥–µ–ª—ã** ‚Äî –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º
- **–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è** ‚Äî —Ä–∞—Å—á—ë—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ —É—á—ë—Ç
- **IT-–æ—Ç–¥–µ–ª—ã** ‚Äî —É—á—ë—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –∞–∫—Ç–∏–≤–æ–≤
- **–¢–æ–ø-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç** ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º (HRM)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö (–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –¥–æ–∫—É–º–µ–Ω—Ç—ã)
- ‚úÖ –¢–∞–±–µ–ª—å–Ω—ã–π —É—á—ë—Ç –∏ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –û—Ç–ø—É—Å–∫–∞, –±–æ–ª—å–Ω–∏—á–Ω—ã–µ, –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π –∏ –æ–∫–ª–∞–¥–æ–≤
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–¥—á–∏–Ω–µ–Ω–∏—è
- ‚úÖ –°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –∏–∂–¥–∏–≤–µ–Ω—Ü—ã

### –†–µ–∫—Ä—É—Ç–∏–Ω–≥
- ‚úÖ –ë–∞–∑–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ —Å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–∏—Å–∫–æ–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—á—ë—Ç —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π
- ‚úÖ –û—Ü–µ–Ω–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

### –ü—Ä–æ–µ–∫—Ç—ã –∏ –∑–∞–¥–∞—á–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Å –±—é–¥–∂–µ—Ç–∞–º–∏
- ‚úÖ –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –¥–µ–¥–ª–∞–π–Ω–æ–≤
- ‚úÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- ‚úÖ –£—á—ë—Ç —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

### –§–∏–Ω–∞–Ω—Å—ã
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –æ–∫–ª–∞–¥–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ –†–∞—Å—á—ë—Ç–Ω—ã–µ –ª–∏—Å—Ç—ã (–Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, –ø—Ä–µ–º–∏–∏, —É–¥–µ—Ä–∂–∞–Ω–∏—è)
- ‚úÖ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
- ‚úÖ –ë—é–¥–∂–µ—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤

### –£—á—ë—Ç –∞–∫—Ç–∏–≤–æ–≤
- ‚úÖ –†–µ–µ—Å—Ç—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–∫–æ–º–ø—å—é—Ç–µ—Ä—ã, —Ç–µ–ª–µ—Ñ–æ–Ω—ã, –º–µ–±–µ–ª—å)
- ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–µ —Å—Ä–æ–∫–∏
- ‚úÖ –£—á—ë—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

### –û–±—É—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ
- ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ –ú–∞—Ç—Ä–∏—Ü–∞ –Ω–∞–≤—ã–∫–æ–≤
- ‚úÖ –û—Ü–µ–Ω–∫–∞ —É—Ä–æ–≤–Ω—è –≤–ª–∞–¥–µ–Ω–∏—è –Ω–∞–≤—ã–∫–∞–º–∏

### KPI –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–µ—Ä–∏–æ–¥—ã –æ—Ü–µ–Ω–∫–∏ (–∫–≤–∞—Ä—Ç–∞–ª, –≥–æ–¥)
- ‚úÖ –í–µ—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- ‚úÖ –û—Ç—á—ë—Ç—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É–¥–∏—Ç
- ‚úÖ –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (15 –≥—Ä—É–ø–ø)


#### 1Ô∏è‚É£ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- `positions` ‚Äî –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
- `departments` ‚Äî –æ—Ç–¥–µ–ª—ã
- `suppliers` ‚Äî –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏
- `skills` ‚Äî –Ω–∞–≤—ã–∫–∏
- `courses` ‚Äî –∫—É—Ä—Å—ã
- `work_schedules` ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç—ã
- `kpi_periods` ‚Äî –ø–µ—Ä–∏–æ–¥—ã KPI
- `kpi_indicators` ‚Äî –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ KPI

#### 2Ô∏è‚É£ –ü–µ—Ä—Å–æ–Ω–∞–ª
- `employees` ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (—è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã)
- `employee_addresses` ‚Äî –∞–¥—Ä–µ—Å–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π
- `family_members` ‚Äî —á–ª–µ–Ω—ã —Å–µ–º—å–∏
- `employee_bank_details` ‚Äî –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
- `employee_skills` ‚Äî –Ω–∞–≤—ã–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

#### 3Ô∏è‚É£ –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
- `attendance` ‚Äî —É—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- `leave_requests` ‚Äî –æ—Ç–ø—É—Å–∫–∞ –∏ –±–æ–ª—å–Ω–∏—á–Ω—ã–µ
- `business_trips` ‚Äî –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏

#### 4Ô∏è‚É£ –ü—Ä–æ–µ–∫—Ç—ã
- `projects` ‚Äî –ø—Ä–æ–µ–∫—Ç—ã
- `tasks` ‚Äî –∑–∞–¥–∞—á–∏
- `project_team` ‚Äî –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–µ–∫—Ç–æ–≤

#### 5Ô∏è‚É£ –§–∏–Ω–∞–Ω—Å—ã
- `salaries` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –æ–∫–ª–∞–¥–æ–≤
- `payroll` ‚Äî —Ä–∞—Å—á—ë—Ç–Ω—ã–µ –ª–∏—Å—Ç—ã

#### 6Ô∏è‚É£ –ê–∫—Ç–∏–≤—ã
- `assets` ‚Äî –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
- `asset_assignments` ‚Äî –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

#### 7Ô∏è‚É£ –û–±—É—á–µ–Ω–∏–µ
- `certificates` ‚Äî —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

#### 8Ô∏è‚É£ –†–µ–∫—Ä—É—Ç–∏–Ω–≥
- `candidates` ‚Äî –∫–∞–Ω–¥–∏–¥–∞—Ç—ã
- `interviews` ‚Äî —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

#### 9Ô∏è‚É£ KPI
- `employee_kpi_results` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏

#### üîü –î–æ–∫—É–º–µ–Ω—Ç—ã
- `documents` ‚Äî —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `employee_documents` ‚Äî —Å–≤—è–∑—å —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

#### 1Ô∏è‚É£1Ô∏è‚É£ –ê—É–¥–∏—Ç
- `audit_log` ‚Äî –∂—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- PostgreSQL 12+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16+)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è: `pg_trgm`, `btree_gist`
- –ü—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone https://github.com/your-org/smartoffice.git
cd smartoffice
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
```bash
psql -U postgres -f scripts/00_create_database.sql
```

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ**
```bash
psql -U postgres -d SmartOffice
```

4. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É**
```bash
psql -U postgres -d SmartOffice -f scripts/01_create_tables.sql
psql -U postgres -d SmartOffice -f scripts/02_add_constraints.sql
psql -U postgres -d SmartOffice -f scripts/03_create_indexes.sql
psql -U postgres -d SmartOffice -f scripts/04_create_triggers.sql
psql -U postgres -d SmartOffice -f scripts/05_insert_test_data.sql
psql -U postgres -d SmartOffice -f scripts/06_views.sql
```

5. **–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å—ë –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (Linux/Mac)**
```bash
cd scripts
./deploy.sh
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
SELECT * FROM pg_extension;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
ORDER BY table_name;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT COUNT(*) FROM employees;
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
```sql
-- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –§–ò–û
SELECT * FROM v_employee_info 
WHERE full_name ILIKE '%–ê–ª–µ–∫—Å–∞–Ω–¥—Ä%';

-- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –æ—Ç–¥–µ–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
SELECT * FROM v_employee_info 
WHERE department = '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞';
```

### –û—Ç—á—ë—Ç –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ
```sql
-- –¢–µ–∫—É—â–∏–µ –æ–∫–ª–∞–¥—ã –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
SELECT * FROM v_current_salaries 
ORDER BY current_salary DESC;

-- –†–∞—Å—á—ë—Ç–Ω—ã–π –ª–∏—Å—Ç –∑–∞ —Ñ–µ–≤—Ä–∞–ª—å 2024
SELECT 
    e.full_name,
    p.base_salary,
    p.bonus,
    p.deductions,
    p.net_amount
FROM payroll p
JOIN employees e ON p.employee_id = e.employee_id
WHERE p.period_start = '2024-02-01';
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
```sql
-- –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
SELECT * FROM v_employee_task_load 
ORDER BY active_tasks DESC;

-- –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
SELECT 
    t.title,
    e.full_name AS assigned_to,
    t.deadline,
    t.priority
FROM tasks t
JOIN employees e ON t.assigned_to = e.employee_id
WHERE t.deadline < CURRENT_DATE 
AND t.status != 'completed';
```

### –£—á—ë—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
```sql
-- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
SELECT * FROM v_asset_assignments;

-- –ò—Å—Ç–µ–∫–∞—é—â–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏
SELECT name, serial_number, warranty_until
FROM assets
WHERE warranty_until BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '3 months';
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PostgreSQL

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PostgreSQL:

- ‚úÖ **–¢—Ä–∏–≥–≥–µ—Ä—ã** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±–µ–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤, –∞—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è EXCLUDE** ‚Äî –∑–∞–ø—Ä–µ—Ç –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –æ—Ç–ø—É—Å–∫–æ–≤ –∏ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ–∫
- ‚úÖ **–í—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è (GENERATED)** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
- ‚úÖ **–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** ‚Äî –ø–æ–∏—Å–∫ –ø–æ –§–ò–û, —Ä–µ–∑—é–º–µ, –Ω–∞–∑–≤–∞–Ω–∏—è–º –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ **GIN –∏–Ω–¥–µ–∫—Å—ã** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å —Ç—Ä–∏–≥—Ä–∞–º–º–∞–º–∏
- ‚úÖ **–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)** ‚Äî –≥–æ—Ç–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã
- ‚úÖ **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **CHECK –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–∞—Ö
- GIN –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –æ—Ç—á—ë—Ç–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```sql
-- –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
EXPLAIN ANALYZE SELECT ...;

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
ANALYZE;

-- –û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
VACUUM ANALYZE;
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–µ–π
CREATE ROLE hr_manager;
CREATE ROLE employee_readonly;
CREATE ROLE admin_full;

-- –ü—Ä–∞–≤–∞ –¥–ª—è HR
GRANT SELECT, INSERT, UPDATE ON employees TO hr_manager;
GRANT SELECT, INSERT, UPDATE ON leave_requests TO hr_manager;

-- –ü—Ä–∞–≤–∞ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
GRANT SELECT ON v_employee_info TO employee_readonly;

-- Row Level Security (RLS)
ALTER TABLE employees ENABLE ROW LEVEL SECURITY;
CREATE POLICY employee_self_access ON employees
    FOR SELECT
    USING (employee_id = current_setting('app.current_employee_id')::INTEGER);
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](docs/database-schema.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](docs/admin-guide.md)
- [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](docs/query-examples.md)
- [Changelog](CHANGELOG.md)

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü

1. –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ `scripts/migrations/`
2. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã
3. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –°–æ–≥–ª–∞—à–µ–Ω–∏—è

- –ò–º–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ, snake_case
- –ü–µ—Ä–≤–∏—á–Ω—ã–µ –∫–ª—é—á–∏ ‚Äî `table_name_id`
- –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ ‚Äî `referenced_table_id`
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ ‚Äî `created_at`, `updated_at`

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—à –≤–∫–ª–∞–¥! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ pull request

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∏ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **Email:** support@smartoffice.ru
- **Telegram:** @smartoffice_support
- **GitHub:** https://github.com/your-org/smartoffice

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 28 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ê–≤—Ç–æ—Ä—ã:** SmartOffice Development Team
